**标签：** #C语言 #华科期末 #优先级
记忆口诀：**括号最大，单目老二，算术第三，移位第四，关系第五，逻辑第六，赋值倒数，逗号垫底。**

| **梯队**      | **运算符**                                                                               | **结合性**          | **典型考题 / 避坑指南**                                                                                                       |
| ----------- | ------------------------------------------------------------------------------------- | ---------------- | --------------------------------------------------------------------------------------------------------------------- |
| **T0 (霸主)** | `()` `[]` `->` `.`                                                                    | **左→右**          | `p->a[1]`：先箭头，再数组，最后取值。                                                                                               |
| **T1 (单目)** | `!` `~` `++` `--`<br><br>  <br><br>`*`(取值) `&`(取址)<br><br>  <br><br>`(type)` `sizeof` | **👉 右→左**       | **考点王**：`*p++`<br><br>  <br><br>1. 先看 `p++`（后置返旧值）。<br><br>  <br><br>2. 再 `*`（解引用旧地址）。<br><br>  <br><br>3. 最后 `p` 自增。 |
| **T2 (算术)** | `* / %` (先)<br><br>  <br><br>`+ -` (后)                                                | 左→右              | `a+b%3`：先取余，再加法。                                                                                                      |
| **T3 (移位)** | `<<` `>>`                                                                             | 左→右              | `a+b<<2`：**小心！**<br><br>  <br><br>加法(`+`)比移位(`<<`)高！<br><br>  <br><br>先算 `a+b`，再左移。                                   |
| **T4 (关系)** | `< <= > >=` (先)<br><br>  <br><br>`== !=` (后)                                          | 左→右              | `a < b == c`：<br><br>  <br><br>先算 `a<b` (得0或1)，再看 `(0或1) == c`。                                                       |
| **T5 (逻辑)** | `&` (位与)<br><br>  <br><br>`^` (异或)<br><br>  <br><br>`                                 | `(位或)`&& `(短路与)` |                                                                                                                       |
| **T6 (赋值)** | `? :` (三目)<br><br>  <br><br>`= += *= ...`                                             | **👉 右→左**       | **考点王**：`a += a *= a`<br><br>  <br><br>从右往左算！先算 `*=`，再算 `+=`。<br><br>  <br><br>三目也是：`a?b:c?d:e` 等价于 `a?b:(c?d:e)`。    |
| **T7 (垫底)** | `,` (逗号)                                                                              | 左→右              | 优先级最低，这就是个分隔符。<br><br>  <br><br>表达式的值 = 最后一个逗号后的值。                                                                    |

---

### ☠️ 考试三大“红灯区”（必背）

#### 1. “右结合”的特例（Right-to-Left）

绝大多数运算都是从左往右（`a+b+c` 是先算 `a+b`），只有以下三类是**从右往左**算：

1. **单目运算符** (`!`, `~`, `++`, `--`, `*`, `&`)
    
2. **三目运算符** (`? :`)
    
3. **赋值运算符** (`=`, `+=`, `*=`)
    

> **真题应用**：看到 `a += b -= c`，直接从最右边 `c` 开始往左推。

#### 2. `*p++` 到底谁先谁后？

这是每年必考题（如2019年题1-(2) 2，2020年题2-(7) 3）。

- **写法**：`*p++`
    
- **解析**：`++` 和 `*` 同级（或 `++` 稍高），但效果是：
    
    1. **取值**：表达式的值是 `*p`（原来的p）。
        
    2. **移动**：`p` 指针向后移一位。
        
- **对比**：`(*p)++`
    
    1. **取值**：先解引用拿到 `x`。
        
    2. **计算**：让 `x` 的值加1。
        
    3. **指针**：`p` 原地不动。
        

#### 3. 逻辑运算的“短路”

- **`&&` (AND)**：如果前面是 **0 (假)**，后面直接**不执行**。
    
- **`||` (OR)**：如果前面是 **非0 (真)**，后面直接**不执行**。
    

> 真题应用 (2019年题1-(4) 4)：
> 
> x%2 && x!=y
> 
> 如果 x%2 算出 0，后面的 x!=y 根本不会算，甚至不会产生副作用（如果后面是 i++，i 就不变）。