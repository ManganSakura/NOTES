**标签：** #C语言 #错题集 #声明 #宏定义 #const #华科期末

---

## 1. 关键字与标识符

题目： 下列表示中哪些是关键字？哪些是合法标识符？

print_3d, db8, aBc, a123, %x, a+b, 123, _3ax, case, union, getchar

### ✅ 标准答案

- **关键字 (Keywords)**：`case`, `union`
    
    - _(注：`getchar` 是标准库函数名，不是 C 语言保留关键字)_
        
- **合法标识符 (Identifiers)**：`print_3d`, `db8`, `aBc`, `a123`, `_3ax`
    
    - _(注：标识符只能由字母、数字、下划线组成，且不能以数字开头)_
        
- **非法/常量**：
    
    - `%x` (非法字符)
        
    - `a+b` (表达式，含非法字符 `+`)
        
    - `123` (整型常量，不能做标识符)
        

---

## 2. 数组声明的合法性判断

**题目：** 以下说明中，正确的有哪些？

### ✅ 标准解析


1. `int a['0'];` ✅ (**易错点**)
    
    - **正确**：`'0'` 是字符常量，本质是整型数（ASCII 48）。这等价于声明 `int a[48];`，语法完全合法。
    - 
2. `int a{5}={10*1};` ❌
    
    - **错误**：`a{5}` 是 C++11 的语法，标准 C 语言不支持用花括号指定数组长度。必须用 `int a[5]`。
        
3. `char f[][4]={"Mon",...};` ✅
    
    - **正确**：二维数组初始化时，**第一维（行数）可以省略**，编译器会自动计算。但第二维（列数）绝对不能省。
        

---

## 3. 标准宏定义 (简答题 Q4)

**题目：** 定义一个标准宏 `MIN(x,y,z)`，返回三个参数中最小的一个。

### ✅ 标准答案

C

```
#define MIN(x, y, z) ( ((x) < (y)) ? (((x) < (z)) ? (x) : (z)) : (((y) < (z)) ? (y) : (z)) )
```

### 💡 满分要点

1. **参数全套括号**：宏展开是直接文本替换，为了防止优先级错误（如 `MIN(a+b, c, d)`），每个参数 `x`, `y`, `z` 在宏体中出现时必须加 `()`。
    
2. **整体套括号**：整个宏表达式的最外层也必须加 `()`，防止与外部运算（如 `2 * MIN(...)`）发生结合错误。
    

---

## 4. const 指针的含义与区别 (简答题 Q5)

**题目：** 说明 `p1` 和 `p2` 的含义与区别。

C

```
int x = 2;
const int *p1 = &x;
int *const p2 = &x;
```

### ✅ 标准答案

- **p1 (指向常量的指针 / Pointer to Constant)**：
    
    - **含义**：`p1` 指向一个整型常量。
        
    - **特性**：**指针变量 `p1` 本身的值可以改变**（可以指向其他地址），但**不能通过 `p1` 修改其指向的内容**（即 `*p1` 是只读的）。
        
- **p2 (指针常量 / Constant Pointer)**：
    
    - **含义**：`p2` 是一个整型指针常量。
        
    - **特性**：**指针变量 `p2` 本身的值不能改变**（一旦初始化就不能指向其他地址），但**可以通过 `p2` 修改其指向的内容**（即 `*p2` 是可写的）。
        

> [!TIP] 助记口诀：左定值，右定向
> 
> - `const` 在 `*` **左**边 (`const int *`) -> **值**不能变。
>     
> - `const` 在 `*` **右**边 (`int * const`) -> **向** (指向) 不能变。
>     

---

## 5. 复杂指针声明翻译 (简答题 Q6)

**题目：** 写出对应的声明语句。

### (1) 指针指向数组

**要求**：`a` 是一个**指针**，指向有 10 个整型数的**数组**。

- **标准答案**：
    
    C
    
    ```
    int (*a)[10];
    ```
    
- **解析**：`(*a)` 确立了 `a` 是指针，`[10]` 确立了它指向的是数组。
    

### (2) 指针数组指向函数

**要求**：`b` 是一个有 10 个元素的**指针数组**，数组元素是指向**函数**的指针（该函数有一个整型参数并返回整型）。

- **标准答案**：
    
    C
    
    ```
    int (*b[10])(int);
    ```
    
- **解析**：
    
    1. `b[10]`：`b` 是数组。
        
    2. `*b[10]`：数组里存的是指针。
        
    3. `(*b[10])(int)`：指针指向函数。
        
    4. `int ...`：函数返回 `int`。